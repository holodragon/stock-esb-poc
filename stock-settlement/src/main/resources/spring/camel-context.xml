<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd        http://camel.apache.org/schema/spring       http://camel.apache.org/schema/spring/camel-spring.xsd">
    <camelContext id="camel" xmlns="http://camel.apache.org/schema/spring">
        <route id="stock-settlement-route">
            <from id="_to1" uri="file:input"/>
            <log id="_log1" message="BODY: ${body}"/>
            <to id="_to2" uri="txfrmr:com.redhat.firstbank.poc/MapREQ"/>
            <setHeader headerName="STOCKCOMCODE" id="_setHeader1">
                <jsonpath>$.REQ.Header.STOCKCOMCODE</jsonpath>
            </setHeader>
            <log id="_log2" message="BODY: ${body}"/>
            <log id="_log3" message="header.STOCKCOMCODE: ${in.header.STOCKCOMCODE}"/>
            <split id="_split1">
                <jsonpath>$.REQ.Body</jsonpath>
                <log id="_log5" message="MSG Header.STOCKCOMCODE: ${in.header.STOCKCOMCODE}"/>
                <log id="_log4" message="MSG: ${body}"/>
                <!-- <to id="_to3" uri="file:output?fileName=Payload-${property.CamelSplitIndex}-${date:now:YYYY-MM-dd'T'HH:mm:ss:SSS}"/> -->
            </split>
        </route>
    </camelContext>
</beans>
